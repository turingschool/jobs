USER_IDS_TO_GH_IDS = {308=>7582765, 25=>2217533, 8=>4818182, 80=>6454987, 116=>5242189, 267=>7057689, 103=>7103421, 21=>5042071, 506=>8226837, 17=>5150213, 390=>5553382, 222=>5980245, 278=>5419731, 48=>2694765, 303=>7552541, 59=>6902951, 13=>6271986, 114=>3201898, 459=>6790201, 548=>3011748, 541=>8398867, 167=>1514862, 113=>3431580, 40=>5874167, 98=>4405520, 14=>3926939, 567=>2790993, 68=>6923345, 497=>8186136, 320=>3933878, 257=>5271281, 528=>7808793, 177=>6809782, 510=>2965795, 261=>7245142, 75=>6662565, 570=>8505719, 612=>8440504, 546=>7894293, 693=>8466906, 651=>8863407, 519=>8313881, 371=>5781795, 555=>8449527, 70=>6202829, nil=>1227440, 3=>43102, 300=>4348166, 312=>3621728, 588=>8561841, 455=>869456, 476=>8007635, 643=>8812335, 576=>8531351, 83=>3827810}

namespace :github do
  desc "Backfill all the current people records with appropriate user_github_id"
  task :backfill => :environment do
    USER_IDS_TO_GH_IDS.each do |user_id, gh_id|
      if p = Person.find_by(user_id: user_id)
        puts "backfilling gh id for turing user id #{user_id}, ;setting github_id: #{gh_id}"
        p.user_github_id = gh_id
        p.save
      else
        puts "no person found for user_id #{user_id}"
      end
    end
  end
end
